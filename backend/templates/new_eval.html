{% extends 'layout.html' %}
{% block content %}
  <h2>New Blackbox API Evaluation</h2>
  {% if error %}<p class="error">{{ error }}</p>{% endif %}
  <form method="post" action="/ui/new">
    <label>System ID</label>
    <input name="system_id" required placeholder="my_agent_api">

    <label>Name (optional)</label>
    <input name="name" placeholder="Display name">

    <label>Endpoint URL</label>
    <input name="endpoint" required placeholder="https://api.example.com/chat">

    <label>HTTP Method</label>
    <select name="method">
      <option>POST</option>
      <option>GET</option>
    </select>

    <label>Headers JSON</label>
    <textarea name="headers_json" rows="6">{ "content-type": "application/json", "authorization": "Bearer ..." }</textarea>

    <label>Request Body JSON</label>
    <textarea name="body_json" rows="12">{ "input": "" }</textarea>

    <label>Test Prompt</label>
    <input name="test_prompt" value="Hello" />

    <div style="margin-top:1rem;">
      <button class="btn" type="submit">Detect Mapping & Run Test</button>
    </div>
  </form>
{% endblock %}

